{"formerly":"","seq":"0,0,1,0,2,3,1,0,4,5,7,6,2,3,1,0,8,9,11,10,14,15,13,12,4,5,7,6,2,3,1,0,16,17,19,18,22,23,21,20,28,29,31,30,26,27,25,24,8,9,11,10,14,15,13,12,4,5,7,6,2,3,1,0,32,33,35,34,38,39,37,36,44,45,47,46,42,43,41,40,56,57","description":"Derivative of n: write n in binary, replace each pair of adjacent bits by their mod 2 sum (a(0)=a(1)=0 by convention). Also n XOR (n shift 1).","comments":"From _Antti Karttunen_: this is also a version of A003188: a(n) = A003188[ n ] - 2^floor_log_2(A003188[ n ]), that is, the corresponding Gray code expansion, but with highest 1-bit turned off. Also a(n) = A003188[ n ] - 2^floor_log_2(n).From _John W. Layman_: {a(n)} is a self-similar sequence under Kimberling's 'upper-trimming' operation.a(A000225(n)) = 0; a(A062289(n)) > 0; a(A038558(n)) = n. - _Reinhard Zumkeller_, Mar 06 2013","links":["T. D. Noe, <a href=\"/A038554/b038554.txt\">Table of n, a(n) for n=0..4096</a>","C. Kimberling, <a href=\"http://faculty.evansville.edu/ck6/integer/fractals.html\">Fractal sequences</a>","J. W. Layman, <a href=\"http://www.math.vt.edu/people/layman/sequences/sequences.htm\">View the fractal-like graph of a(n) vs. n</a>","R. Stephan, <a href=\"/somedcgf.html\">Some divide-and-conquer sequences ...</a>","R. Stephan, <a href=\"/A079944/a079944.ps\">Table of generating functions</a>"],"formula":"If 2*2^k<=n<3*2^k then a(n)=2^k+a(2^(k+2)-n-1); if 3*2^k<=n<4*2^k then a(n)=a(n-2^(k+1)). - _Henry Bottomley_, May 11 2000G.f. 1/(1-x) * sum(k>=0, 2^k(t^4-t^3+t^2)/(1+t^2), t=x^2^k). - _Ralf Stephan_, Sep 10 2003a(0)=0, a(2n) = 2a(n) + [n odd], a(2n+1) = 2a(n) + [n>0 even]. - _Ralf Stephan_, Oct 20 2003a(0) = a(1) = 0, a(4n) = 2a(2n), a(4n+2) = 2a(2n+1)+1, a(4n+1) = 2a(2n)+1, a(4n+3) = 2a(2n+1). Proof by Nikolaus Meyberg following a conjecture by _Ralf Stephan_.","example":"If n=18=10010, derivative is (1+0)(0+0)(0+1)(1+0) = 1011, so a(18)=11.","maple":"A038554 := proc(n) local i,b,ans; ans := 0; b := convert(n,base,2); for i to nops(b)-1 do ans := ans+((b[ i ]+b[ i+1 ]) mod 2)*2^(i-1); od; RETURN(ans); end; [ seq(A038554(i),i=0..100) ];","mathematica":"a[0] = a[1] = 0; a[n_ /; Mod[n, 4] == 0] := a[n] = 2*a[n/2]; a[n_ /; Mod[n, 4] == 1] := a[n] =  2*a[(n-1)/2] + 1; a[n_ /; Mod[n, 4] == 2] := a[n] = 2*a[n/2] + 1; a[n_ /; Mod[n, 4] == 3] := a[n] = 2*a[(n-1)/2]; Table[a[n], {n, 0, 81}] (* _Jean-FranÃ§ois Alcover_, Jul 13 2012, after _Ralf Stephan_ *)Table[FromDigits[Mod[Total[#],2]&/@Partition[IntegerDigits[n,2],2,1],2],{n,0,90}] (* _Harvey P. Dale_, Oct 27 2015 *)","prog":"(Haskell)import Data.Bits (xor)a038554 n = foldr (\\d v -> v * 2 + d) 0 $ zipWith xor bs $ tail bs   where bs = a030308_row n-- _Reinhard Zumkeller_, May 26 2013, Mar 06 2013","crossrefs":["Cf. A038570, A038571. See A003415 for another definition of the derivative of a number.","Cf. A038556 (rotates n instead of shifting)","Cf. A000035.","Cf. A030308."],"keyword":"nonn,nice,easy","offset":"0,5","author":"_N. J. A. Sloane_.","extensions":["More terms from _Erich Friedman_."]}