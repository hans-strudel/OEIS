{"formerly":"M0068 N0021","seq":"2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2","description":"Fixed under 1 -> 21, 2 -> 211.","comments":"If treated as the terms of a continued fraction, it converges to approximately2.57737020881617828717350576260723346479894963737498275232531856357441\\7024804797827856956758619431996. - Peter Bertok (peter(AT)bertok.com), Nov 27 2001There are a(n) 1's between successive 2's. - _Eric Angelini_, Aug 19 2008Same sequence where 1's and 2's are exchanged: A001468. - _Eric Angelini_, Aug 19 2008","references":["Midhat J. Gazale, Number: From Ahmes to Cantor, Section on 'Cleavages' in Chapter 6, Princeton University Press, Princeton, NJ 2000, pp. 203-211.","N. J. A. Sloane, A Handbook of Integer Sequences, Academic Press, 1973 (includes this sequence).","N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"links":["T. D. Noe, <a href=\"/A001030/b001030.txt\">Table of n, a(n) for n=1..8119</a>","D. R. Hofstadter, <a href=\"/A006336/a006336_1.pdf\">Eta-Lore</a> [Cached copy, with permission]","D. R. Hofstadter, <a href=\"/A006336/a006336_2.pdf\">Pi-Mu Sequences</a> [Cached copy, with permission]","D. R. Hofstadter and N. J. A. Sloane, <a href=\"/A006336/a006336.pdf\">Correspondence, 1977 and 1991</a>","A. Nagel, <a href=\"http://www.jstor.org/stable/2687909\">A self-defining infinite sequence, with an application to Markoff chains and probability</a>, Math. Mag., 36 (1963), 179-183.","N. J. A. Sloane, <a href=\"/A001149/a001149.pdf\">Handwritten notes on Self-Generating Sequences, 1970</a> (note that A1148 has now become A005282)"],"formula":"a(n) = -1 + floor(n*(1+sqrt(2))+1/sqrt(2))-floor((n-1)*(1+sqrt(2))+1/sqrt(2)). - _Benoit Cloitre_, Jun 26 2004. [I don't know if this is a theorem or a conjecture. - _N. J. A. Sloane_, May 14 2008]","mathematica":"('n' is the number of substitution steps to perform.) Nest[Flatten[ # /. {1 -> {2, 1}, 2 -> {2, 1, 1}}] &, {1}, n]","prog":"A001030 := proc(n) begin [ 2 ]; while nops(%)<n do subs(%,[ 1=(2,1),2=(2,1,1) ]) end_while; %[ n ] end_proc:(PARI) /* Fast string concatenation method giving e.g. 5740 terms in 8 iterations */a=\"2\";b=\"2,1,1,2\";print1(b);for(x=1,8,c=concat([\",1,\",a,\",1,\",b]);print1(c);a=b;b=concat(b,c)) \\\\ _K. Spage_, Oct 08 2009(Haskell) Following Spage's PARI program.a001030 n = a001030_list !! (n-1)a001030_list = [2, 1, 1, 2] ++ f [2] [2, 1, 1, 2] where   f us vs = ws ++ f vs (vs ++ ws) where             ws = 1 : us ++ 1 : vs-- _Reinhard Zumkeller_, Aug 04 2014","crossrefs":["Length of the sequence after 'n' substitution steps is given by the terms of A000129.","Equals A004641(n) + 1."],"keyword":"nonn,nice,easy","offset":"1,1","author":"_N. J. A. Sloane_","extensions":["More terms from Peter Bertok (peter(AT)bertok.com), Nov 27 2001"]}