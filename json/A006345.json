{"formerly":"M0074","seq":"1,2,1,1,2,2,1,2,1,1,2,1,2,2,1,1,2,1,1,1,2,2,1,2,1,1,2,2,1,1,1,2,1,1,2,2,1,2,1,1,2,1,2,2,1,1,2,1,1,1,2,2,1,2,1,1,2,2,1,2,2,2,1,1,2,1,2,2,1,1,2,2,2,1,2,2,1,1,2,1,2,2,1,2,1,1,2,2,1,2,2,2,1,1,2,1,2,2,1,1,2,2,2,1,2","description":"Linus sequence: a(n) \"breaks the pattern\" by avoiding the longest doubled suffix.","comments":"To find a(n), consider either a 1 or a 2. For each, find the longest repeated suffix, that is, for each of a(n)=1,2, find the longest sequence s with the property that the sequence a(1),...,a(n) ends with ss. Use the digit that results in the shorter such suffix. a(1) = 1. The empty sequence of length 0 is the shortest possible suffix and is trivially doubled. Note that this doesn't result in exactly Linus's choices. - K. Ramsey, kramsey(AT)aol.com","references":["N. S. Hellerstein, Letter to _N. J. A. Sloane_ (1978).","N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"links":["T. D. Noe, Robert Israel and Hugo van der Sanden, <a href=\"/A006345/b006345.txt\">Table of n, a(n) for n = 1..50000</a> (1..1000 from T. D. Noe, 1001..20000 from Robert Israel)","P. Balister, S. Kalikow, A. Sarkar, <a href=\"http://ww2.ims.nus.edu.sg/preprints/2007-19.pdf\">The Linus sequence</a>, May 2007.","N. J. A. Sloane, <a href=\"/A006345/a006345.html\">Illustration of initial terms</a>","Eric Weisstein's World of Mathematics, <a href=\"http://mathworld.wolfram.com/LinusSequence.html\">Linus Sequence.</a>"],"example":"After 1,2,1,1,2,2,1,2, if we put a 1, the suffix {2,1} repeats, but if we put a 2 the longer suffix {1,2,2} repeats, so the next term is 1.","maple":"LDS:= proc(L)  local Cands, r,m;  Cands:= {$1..floor(nops(L)/2)};  r:= 0;for m from 1 while nops(Cands) > 0 do     Cands:= select(c -> L[-m] = L[-c-m], Cands);     if min(Cands) = m then        r:= m;        Cands:= subs(m=NULL,Cands);     fi   od;   rend proc:A:= 1:for n from 2 to 10^3 do  if LDS([A,1]) < LDS([A,2]) then A:= A,1 else A:= A,2 fi;od:seq(A[i],i=1..10^3); # _Robert Israel_, Jun 22 2015","mathematica":"a[1]=1; a[2]=2; suffix[lst_] := If[MatchQ[lst, {___, b__, b__}], lst /. {___, b__, b__} :> {b}, {}]; a[n_] := a[n] = Module[{aa, lg1, lg2}, aa = Array[a, n-1]; lg1 = suffix[Append[aa, 1]] // Length; lg2 = suffix[Append[aa, 2]] // Length; If[lg1 <= lg2, 1, 2]]; Table[a[n], {n, 1, 105}] (* _Jean-FranÃ§ois Alcover_, Dec 11 2014 *)","prog":"(Perl) -le 'print$_.=3**/(.*)(.)\\1$/-$2for($_)x99' (Ton Hospel/Phil Carmody) [An example of Perl golfing: use as few (key)strokes as possible](PARI) {a(n)=local(A,t); if(n<2, n>0, A=[1]; for(i=2, n, forstep(j=i\\2-1, 0, -1, for(k=1, j, if(A[i-j-k-1]!=A[i-k], next(2))); t=j; break); A=concat(A,[3-A[i-t-1]])); A[n])} /* _Michael Somos_, May 04 2006 */Comment on calculating this sequence and A006346 with Perl, from _Hugo van der Sanden_, June 23 2015 (Start):The approach I used was to take advantage of perl's regular expressioncapabilities, coupled with the realisation that perl can optimize patternsanchored to the start far better than those anchored to the end - reversingthe string to allow that gave a speedup of several orders of magnitude:my $string = \"\";digit('1', 0);for (2 .. $limit) {    my($repeat, $digit) = ($string =~ m{ ^ (.*) ([12]) \\1 }x) or die;    digit($digit eq '1' ? '2' : '1', length($repeat) + 1);}sub digit {    my($digit, $repeat) = @_;    $string = $digit . $string;    # n A6345(n) A6346(n)    printf \"%s %s %s\\n\", length($string), $digit, $repeat;}This takes about 45s to calculate 50000 terms of both sequences. (End)","crossrefs":["Cf. A006346."],"keyword":"nonn,easy,nice","offset":"1,2","author":"_N. J. A. Sloane_","extensions":["More terms from _Naohiro Nomoto_, May 21 2001","Additional comments from _Mitch Harris_, Dec 31 2003"]}