{"formerly":"M0138","seq":"1,1,1,2,1,3,2,1,4,3,2,5,1,6,4,3,7,2,8,5,1,9,6,4,10,3,11,7,2,12,8,5,13,1,14,9,6,15,4,16,10,3,17,11,7,18,2,19,12,8,20,5,21,13,1,22,14,9,23,6,24,15,4,25,16,10,26,3,27,17,11,28,7,29,18,2,30,19,12,31,8,32,20,5,33","description":"Fractal sequence obtained from Fibonacci numbers (or Wythoff array).","comments":"Length of n-th row = A000045(n); last term of n-th row = A094967(n-1); sum of n-th row = A033192(n-1). [_Reinhard Zumkeller_, Jan 26 2012]","references":["N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"links":["Reinhard Zumkeller, <a href=\"/A003603/b003603.txt\">Rows n=1..20 of triangle, flattened</a>","J. H. Conway and N. J. A. Sloane, <a href=\"/A019586/a019586.pdf\">Notes on the Para-Fibonacci and related sequences</a>","C. Kimberling, <a href=\"http://faculty.evansville.edu/ck6/integer/fractals.html\">Fractal sequences</a>","C. Kimberling, <a href=\"http://matwbn.icm.edu.pl/ksiazki/aa/aa73/aa7321.pdf\">Numeration systems and fractal sequences</a>, Acta Arithmetica 73 (1995) 103-117.","N. J. A. Sloane, <a href=\"/classic.html#WYTH\">Classic Sequences</a>"],"formula":"Vertical para-budding sequence: says which row of Wythoff array (starting row count at 1) contains n.If one deletes the first occurrence of 1, 2, 3, ... the sequence is unchanged.From _Clark Kimberling_, Oct 29 2009: (Start)The fractal sequence of the Wythoff array can be constructed without reference to the Wythoff array or Fibonacci numbers. Write initial rows:Row 1: .... 1Row 2: .... 1Row 3: .... 1..2Row 4: .... 1..3..2For n>4, to form row n+1, let k be the least positive integer not yet used; write row n, and right after the first number that is also in row n-1, place k; right after the next number that is also in row n-1, place k+1, and continue. A003603 is the concatenation of the rows. (End)","example":"In the recurrence for making new rows, we get row 5 from row 4 thus: write row 4: 1,3,2, and then place 4 right after 1, and place 5 right after 2, getting 1,4,3,2,5. - _Clark Kimberling_, Oct 29 2009","mathematica":"num[n_, b_] := Last[NestWhile[{Mod[#[[1]], Last[#[[2]]]], Drop[#[[2]], -1], Append[#[[3]], Quotient[#[[1]], Last[#[[2]]]]]} &, {n, b, {}}, #[[2]] =!= {} &]];left[n_, b_] := If[Last[num[n, b]] == 0, Dot[num[n, b], Rest[Append[Reverse[b], 0]]], n];fractal[n_, b_] := # - Count[Last[num[Range[#], b]], 0] &@   FixedPoint[left[#, b] &, n];Table[fractal[n, Table[Fibonacci[i], {i, 2, 12}]], {n, 30}] (* _Birkas Gyorgy_, Apr 13, 2011 *)","prog":"(Haskell)  -- according to Kimberling, see formula section.a003603 n k = a003603_row n !! (k-1)a003603_row n = a003603_tabl !! (n-1)a003603_tabl = [1] : [1] : wythoff [2..] [1] [1] where   wythoff is xs ys = f is xs ys [] where      f js     []     []     ws = ws : wythoff js ys ws      f js     []     [v]    ws = f js [] [] (ws ++ [v])      f (j:js) (u:us) (v:vs) ws        | u == v = f js us vs (ws ++ [v,j])        | u /= v = f (j:js) (u:us) vs (ws ++ [v])-- _Reinhard Zumkeller_, Jan 26 2012","crossrefs":["Equals A019586(n) + 1. Cf. A003602, A000045, A035513, A033192, A094967, A265650."],"keyword":"nonn,easy,nice,eigen,tabf","offset":"1,4","author":"_N. J. A. Sloane_, _Mira Bernstein_","extensions":["More terms from Antonio G. Astudillo (afg_astudillo(AT)lycos.com), Mar 29 2003","Keyword tabf added by _Reinhard Zumkeller_, Jan 26 2012"]}