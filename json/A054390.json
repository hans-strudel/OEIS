{"formerly":"","seq":"1,1,1,2,1,1,2,1,1,3,2,2,3,1,1,2,1,1,3,2,2,3,1,1,2,1,1,4,3,3,5,2,2,4,2,2,5,3,3,4,1,1,2,1,1,3,2,2,3,1,1,2,1,1,4,3,3,5,2,2,4,2,2,5,3,3,4,1,1,2,1,1,3,2,2,3,1,1,2,1,1,5,4,4,7,3,3,6,3,3,8,5,5,7,2,2,4,2,2,6,4,4,6,2,2","description":"Number of ways of writing n as a sum of powers of 3, each power being used at most three times.","comments":"Let M = an infinite matrix with (1, 1, 1, 1, 0, 0, 0,...) in each column shifted down thrice from the previous column (for k>0). Then A054390 = Lim_{n->inf} M^n, the left-shifted vector considered as a sequence. - _Gary W. Adamson_, Apr 14 2010","links":["Alois P. Heinz, <a href=\"/A054390/b054390.txt\">Table of n, a(n) for n = 0..10000</a>"],"formula":"a(0)=1, a(1)=1, a(2)=1 and, for n>0, a(3n)=a(n)+a(n-1), a(3n+1)=a(n), a(3n+2)=a(n).G.f.: product((1+x^(3^j)+x^(2*(3^j))+x^(3*(3^j))), j=0..infinity). - _Emeric Deutsch_, Apr 02 2006","example":"a(33) = 4 because we have 33=27+3+3=27+3+1+1+1=9+9+9+3+3=9+9+9+3+1+1+1.","maple":"a[0]:=1: a[1]:=1: a[2]:=1: for n from 1 to 35 do a[3*n]:=a[n]+a[n-1]: a[3*n+1]:=a[n]: a[3*n+2]:=a[n] od: A:=[seq(a[n],n=0..104)]; - _Emeric Deutsch_, Apr 02 2006g:=product((1+x^(3^j)+x^(2*(3^j))+x^(3*(3^j))),j=0..10): gser:=series(g,x=0,125): seq(coeff(gser,x,n),n=0..104); - _Emeric Deutsch_, Apr 02 2006# third Maple programb:= proc(n, i) option remember;      `if`(n=0, 1, `if`(i<0, 0, add(`if`(n-j*3^i<0, 0,         b(n-j*3^i, i-1)), j=0..3)))    end:a:= n-> b(n, ilog[3](n)):seq (a(n), n=0..100);  # _Alois P. Heinz_, Jun 21 2012","crossrefs":["Cf. A002487."],"keyword":"nonn","offset":"0,4","author":"_John W. Layman_, May 09 2000"}