{"formerly":"M0111","seq":"0,1,2,1,2,3,2,3,2,1,2,3,2,3,4,3,4,3,2,3,4,3,4,3,2,3,2,1,2,3,2,3,4,3,4,3,2,3,4,3,4,5,4,5,4,3,4,5,4,5,4,3,4,3,2,3,4,3,4,5,4,5,4,3,4,5,4,5,4,3,4,3,2,3,4,3,4,3,2,3,2,1,2,3,2,3,4,3,4,3,2,3,4,3,4,5,4,5,4,3,4,5,4,5,4,3","description":"Weight of balanced ternary representation of n.","comments":"Weight of n means count of nonzero digits of n. [_Daniel Forgues_, Mar 24 2010]a(n) = A134022(n) + A134024(n) = A134021(n) - A134023(n).","references":["Flajolet and Ramshaw, A note on Gray code..., SIAM J. Comput. 9 (1980), 142-158.","N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"links":["Daniel Forgues, <a href=\"/A005812/b005812.txt\">Table of n, a(n) for n=0..100000</a>","Michael Gilleland, <a href=\"/selfsimilar.html\">Some Self-Similar Integer Sequences</a>"],"formula":"a(3n)=a(n), a(3n+1)=a(n)+1, a(9n+2)=a(n)+2, a(9n+5)=a(3n+2)+1, a(9n+8)=a(3n+2).a(n) = sum{k>0, floor(|2*sin(n*pi/3^k)|)} - _Toshitaka Suzuki_, Sep 10 2006","mathematica":"a[n_] := With[{q=Round[n/3]}, Abs[n-3q]+a[q]]; a[0]=0; Table[a[n], {n, 0, 105}](* _Jean-Fran√ßois Alcover_, Nov 25 2011, after Pari *)","prog":"(Lisp) (defun btw (n) (if (= n 0) 0 (multiple-value-bind (q r) (round n 3) (+ (abs r) (btw q)))))(PARI) a(n)=local(q); if(n<=0,0,q=round(n/3); abs(n-3*q)+a(q))","keyword":"easy,nonn,nice","offset":"0,3","author":"_N. J. A. Sloane_, _Jeffrey Shallit_. Additional terms from _Allan C. Wechsler_"}