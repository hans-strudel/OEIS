{"formerly":"M3018","seq":"0,1,3,16,95,666,5327,47944,479439,5273830,63285959,822717468,11518044551,172770668266,2764330692255,46993621768336,845885191830047,16071818644770894,321436372895417879,6750163830803775460","description":"a(n) = (n+1) a(n-1) + (-1)^n.","comments":"a(n) is a function of the subfactorials .. a(n)= (n+1)!/2 - A000166(n+1) - _Gary Detlefs_, Apr 16 2010a(n) can be seen indeed as a shifted-forward version of the subfactorials = derangement numbers. - _Olivier GÃ©rard_, Feb 23 2015","references":["N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"formula":"E.g.f.: x(1-x/2-exp(-x))/(1-x)^2.a(n)= round((1/2-exp(-1))*(n+1)!) - _Benoit Cloitre_, Sep 24 2006a(n)= n(a(n-1)+a(n-2)), n>2. - _Gary Detlefs_, Apr 10 2010a(n)= 1/2*(n+1)! -floor(((n+1)!+1)/e) - _Gary Detlefs_, Apr 16 2010","example":"a(2)=1/2*6-2=1, a(3)=1/2*24-9=3, a(4)=1/2*120-44=16... - _Gary Detlefs_, Apr 16 2010","maple":"a:=n->-n!*sum((-1)^k/k!, k=3..n): seq(a(n), n=2..21); - _Zerinvary Lajos_, May 25 2007seq(1/2*(n+1)! -floor(((n+1)!+1)/e),n=1..30); - _Gary Detlefs_, Apr 16 2010","mathematica":"RecurrenceTable[{a[1]==0,a[n]==(n+1)a[n-1]+(-1)^n},a,{n,20}] (* _Harvey P. Dale_, Oct 19 2012 *)","prog":"(PARI) a(n)=if(n<2,0,(n+1)*a(n-1)+(-1)^n)(PARI) a(n)=round((1/2-exp(-1))*(n+1)!) - _Benoit Cloitre_, Sep 24 2006","crossrefs":["Cf. A000166."],"keyword":"nonn,easy","offset":"1,3","author":"_N. J. A. Sloane_."}