{"formerly":"M0110","seq":"0,1,2,1,2,3,2,1,2,3,4,3,2,3,2,1,2,3,4,3,4,5,4,3,2,3,4,3,2,3,2,1,2,3,4,3,4,5,4,3,4,5,6,5,4,5,4,3,2,3,4,3,4,5,4,3,2,3,4,3,2,3,2,1,2,3,4,3,4,5,4,3,4,5,6,5,4,5,4,3,4,5,6,5,6,7,6,5,4,5,6,5,4,5","description":"Number of runs in binary expansion of n (n>0); number of 1's in Gray code for n.","comments":"Starting with a(1) = 0 mirror all initial 2^k segments and increase by one.a(n) gives the net rotation (measured in right angles) after taking n steps along a dragon curve. - Christopher Hendrie (hendrie(AT)acm.org), Sep 11 2002This sequence generates A082410: (0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1...) and A014577; identical to the latter except starting 1, 1, 0...; by writing a \"1\" if a(n+1) > a(n); if not, write \"0\". E.g., A014577(2) = 0, since a(3) < a(2), or 1 < 2. - _Gary W. Adamson_, Sep 20 2003Starting with 1 = partial sums of A034947: (1, 1, -1, 1, 1, -1, -1, 1, 1, 1,...). - _Gary W. Adamson_, Jul 23 2008The composer Per Nørgård's name is also written in the OEIS as Per Noergaard.Can be used as a binomial transform operator:  Let a(n) = the n-th term in any S(n); then extract 2^k strings, adding the terms. This results in the binomial transform of S(n). Say S(n) = 1, 3, 5,...; then we obtain the strings: (1), (3, 1), (3, 5, 3, 1), (3, 5, 7, 5, 3, 5, 3, 1),...; = the binomial transform of (1, 3, 5,...) = (1, 4, 12, 32, 80,...). Example: the 8-bit string has a sum of 32 with a distribution of (1, 3, 3, 1) or one 1, three 3's, three 5's, and one 7; as expected. - _Gary W. Adamson_, Jun 21 2012","references":["N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence)."],"links":["T. D. Noe, <a href=\"/A005811/b005811.txt\">Table of n, a(n) for n = 0..10000</a>","Joerg Arndt, <a href=\"http://www.jjj.de/fxt/#fxtbook\">Matters Computational (The Fxtbook)</a>","J.-P. Allouche, J. Shallit, <a href=\"http://www.math.jussieu.fr/~allouche/kreg2.ps\">The Ring of k-regular Sequences, II</a>","J.-P. Allouche and J. Shallit, <a href=\"http://dx.doi.org/10.1016/S0304-3975(03)00090-2\">The ring of k-regular sequences, II</a>, Theoret. Computer Sci., 307 (2003), 3-29.","P. Flajolet et al., <a href=\"http://algo.inria.fr/flajolet/Publications/FlGrKiPrTi94.pdf\">Mellin Transforms And Asymptotics: Digital Sums</a>, Theoret. Computer Sci. 23 (1994), 291-314.","P. Flajolet and Lyle Ramshaw, <a href=\"http://dx.doi.org/10.1137/0209014\">A note on Gray code and odd-even merge</a>, SIAM J. Comput. 9 (1980), 142-158.","Jeffrey Shallit, <a href=\"http://www.fq.math.ca/Papers1/43-3/paper43-3-9.pdf\">The mathematics of Per Noergaard's rhythmic infinity system</a>, Fib. Q., 43 (2005), 262-268.","R. Stephan, <a href=\"/somedcgf.html\">Some divide-and-conquer sequences ...</a>","R. Stephan, <a href=\"/A079944/a079944.ps\">Table of generating functions</a>","<a href=\"/index/Cor#core\">Index entries for \"core\" sequences</a>","<a href=\"/index/Bi#binary\">Index entries for sequences related to binary expansion of n</a>"],"formula":"a(2^k + i) = a(2^k - i + 1) + 1 for k >= 0 and 0 < i <= 2^k. - _Reinhard Zumkeller_, Aug 14 2001a(2n+1) = 2a(n) - a(2n) + 1, a(4n) = a(2n), a(4n+2) = 1 + a(2n+1).a(j+1) = a(j) + (-1)^A014707(j). - Christopher Hendrie (hendrie(AT)acm.org), Sep 11 2002G.f.: 1/(1-x) * sum(k >= 0, x^2^k/(1+x^2^(k+1))). - _Ralf Stephan_, May 02 2003Delete the 0, make subsets of 2^n terms; and reverse the terms in each subset to generate A088696. - _Gary W. Adamson_, Oct 19 2003a(0) = 0, a(2n) = a(n) + [n odd], a(2n+1) = a(n) + [n even]. - _Ralf Stephan_, Oct 20 2003a(n) = sum(k = 1, n, (-1)^((k/2^A007814(k)-1)/2)) = sum(k = 1, n, (-1)^A025480(k-1)). - _Ralf Stephan_, Oct 29 2003a(0) = 0 then a(n) = a(floor(n/2)) + (a(floor(n/2)) + n) modulo 2. - _Benoit Cloitre_, Jan 20 2014a(n) = A037834(n) + 1.a(n) = A069010(n) + A033264(n). - _Ralf Stephan_","example":"Considered as a triangle with 2^k terms per row, the first few rows are:12, 12, 3, 2, 12, 3, 4, 3, 2, 3, 2, 1... n-th row becomes right half of next row; left half is mirrored terms of n-th row increased by one. - _Gary W. Adamson_, Jun 20 2012","maple":"A005811 := proc(n)    local i, b, ans;    if n = 0 then        return 0 ;    end if;    ans := 1;    b := convert(n, base, 2);    for i from nops(b)-1 to 1 by -1 do        if b[ i+1 ]<>b[ i ] then            ans := ans+1        fi    od;    return ans ;end proc:seq(A005811(i), i=1..50) ;","mathematica":"Table[ Length[ Length/@Split[ IntegerDigits[ n, 2 ] ] ], {n, 1, 255} ]","prog":"(PARI) a(n)=sum(k=1,n,(-1)^((k/2^valuation(k,2)-1)/2))(PARI) a(n)=if(n<1,0,a(n\\2)+(a(n\\2)+n)%2) \\\\ _Benoit Cloitre_, Jan 20 2014(PARI) a(n) = hammingweight(bitxor(n, n>>1));  \\\\ _Gheorghe Coserea_, Sep 03 2015(Haskell)import Data.List (group)a005811 0 = 0a005811 n = length $ group $ a030308_row na005811_list = 0 : f [1] where   f (x:xs) = x : f (xs ++ [x + x `mod` 2, x + 1 - x `mod` 2])-- _Reinhard Zumkeller_, Feb 16 2013, Mar 07 2011","crossrefs":["Cf. A056539, A014707, A014577, A082410, A034947, A030308, A090079, A044813, A165413, A226227, A226228, A226229.","A000975 gives records. - Oliver Kosut (vern(AT)mit.edu), May 06 2002","Cf. A147995 (has Gray code conversion rules)."],"keyword":"easy,nonn,core,nice,hear","offset":"0,3","author":"_N. J. A. Sloane_, _Jeffrey Shallit_, _Simon Plouffe_","extensions":["Additional description from _Wouter Meeussen_"]}