{"formerly":"","seq":"1,3,2,6,8,4,11,5,14,16,7,19,21,9,24,10,27,29,12,32,13,35,37,15,40,42,17,45,18,48,50,20,53,55,22,58,23,61,63,25,66,26,69,71,28,74,76,30,79,31,82,84,33,87,34,90,92,36,95,97,38,100,39,103,105,41,108,110,43,113","description":"a_1, a_2, ..., is a permutation of the positive integers such that the average of each initial segment is an integer, using the greedy algorithm to define a_n.","comments":"Self-inverse when considered as a permutation or function, i.e. a(a(n)) = n. - _Howard A. Landman_, Sep 25 2001That each initial segment has an integer average is trivially equivalent to the sum of the first n elements always being divisible by n. - _Franklin T. Adams-Watters_, Jul 07 2014Also, a lexicographically minimal sequence of distinct positive integers such that all values of a(n)-n are also distinct. - _Ivan Neretin_, Apr 18 2015","links":["Franklin T. Adams-Watters, <a href=\"/A019444/b019444.txt\">Table of n, a(n) for n=1..10000</a>","A. Shapovalov, <a href=\"http://kvant.mccme.ru/1995/05/zadachnik_kvanta_matematika.htm\">Problem M1517</a> (in Russian), Kvant 5 (1995), 20-21. (English translation appeared in Quantum, Sept/October 1996)","The Math Forum, <a href=\"http://mathforum.org/wagon/fall96/p818.html\">Problem of the Week 818</a>","<a href=\"/index/Per#IntegerPermutation\">Index entries for sequences that are permutations of the natural numbers</a>"],"formula":"a(n) = A002251(n-1) + 1. (Corrected by _M. F. Hasler_, Sep 17 2014)Let s(n) = sum(k=1,n,a(k))/n = A019446(n). Then if s(n-1) does not occur in a(1),...,a(n-1), a(n) = s(n) = s(n-1); otherwise, a(n) = s(n-1) + n and s(n) = s(n-1) + 1. [From _Franklin T. Adams-Watters_, May 20 2010]","mathematica":"a[1]=1; a[n_] := a[n]=Module[{s, v}, s=a/@Range[n-1]; For[v=Mod[ -Plus@@s, n], v<1||MemberQ[s, v], v+=n, Null]; v]lst = {1}; f[s_List] := Block[{k = 1, len = 1 + Length@ lst, t = Plus @@ lst}, While[ MemberQ[s, k] || Mod[k + t, len] != 0, k++ ]; AppendTo[lst, k]]; Nest[f, lst, 69] (* _Robert G. Wilson v_, May 17 2010 *)Fold[Append[#1, #2 Ceiling[#2/GoldenRatio] - Total[#1]] &, {1}, Range[2, 70]] (* _Birkas Gyorgy_, May 25 2012 *)","prog":"(PARI) al(n)=local(v,s,fnd);v=vector(n);v[1]=s=1;for(k=2,n,fnd=0;for(i=1,k-1,if(v[i]==s,fnd=1;break));v[k]=if(fnd,s+k,s);s+=fnd);v \\\\ _Franklin T. Adams-Watters_, May 20 2010","crossrefs":["Cf. A019445, A019446, A243700."],"keyword":"nonn,nice","offset":"1,2","author":"_R. K. Guy_ and Tom Halverson (halverson(AT)macalester.edu)"}